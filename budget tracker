import csv

categories = ["Rent", "Food", "Transportation", "Savings", "Entertainment", "Other"]

def create_budget():
    filename = input("Enter a name for your budget (e.g., april_budget): ").strip() + ".csv"
    income = float(input("Enter your monthly income: $"))
    expenses = {}

    print("\nEnter how much you want to spend in each category:")
    for category in categories:
        amount = float(input(f"{category}: $"))
        expenses[category] = amount

    total_expenses = sum(expenses.values())
    leftover = income - total_expenses
    expenses["Leftover"] = leftover

    with open(filename, "w", newline="") as file:
        writer = csv.writer(file)
        writer.writerow(["Category", "Amount"])
        for category, amount in expenses.items():
            writer.writerow([category, amount])

    print(f"\nBudget saved to '{filename}'")
    print("Here is your budget summary:")
    for category, amount in expenses.items():
        print(f"{category}: ${amount:.2f}")

def load_budget():
    filename = input("Enter the name of the budget file to load : ").strip() + ".csv"

    try:
        with open(filename, "r") as file:
            print(f"\nLoading '{filename}'...")
            reader = csv.reader(file)
            next(reader)
            for row in reader:
                print(f"{row[0]}: ${float(row[1]):.2f}")
    except FileNotFoundError:
        print("Budget file not found.")

def main():
    while True:
        print("\n=== Budgeting Tool ===")
        print("1. Create a new budget")
        print("2. Load an existing budget")
        print("3. Exit")

        choice = input("Choose an option (1-3): ").strip()

        if choice == "1":
            create_budget()
        elif choice == "2":
            load_budget()
        elif choice == "3":
            print("Goodbye!")
            break
        else:
            print("Invalid choice. Please enter 1, 2, or 3.")

if __name__ == "__main__":
    main()
